(this["webpackJsonpmarvel-comics"]=this["webpackJsonpmarvel-comics"]||[]).push([[0],{25:function(e,t,c){e.exports={Label:"styles_Label__3zlhd",Input:"styles_Input__3OWaD",Text:"styles_Text__6_Xgi"}},44:function(e,t,c){e.exports={button:"styles_button__1g7sQ"}},46:function(e,t,c){e.exports={Section:"styles_Section__2RTnU"}},73:function(e,t,c){},75:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(19),s=c.n(n),r=c(10),i=c(18),o=c(5),l=c(24),m=c(42),j=c.n(m),u=c(43),d=c.n(u),b="e883c24991effce0cb276c786130f93d",O=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t,c){var a,n,s,r,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Date.now(),n=j()("".concat(a).concat("94a3b6b046653bf712d46331d14072e9db58e6f7").concat(b)),s=Object(o.a)({ts:a,apikey:b,hash:n},c),r="".concat("https://gateway.marvel.com:443/v1/public","/").concat(t),e.prev=4,e.next=7,d.a.get(r,{params:s});case 7:return l=e.sent,e.abrupt("return",l);case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,c){return e.apply(this,arguments)}}(),h=c(13),x=Object(h.b)("lastComics/fetchLastComics",Object(l.a)(Object(i.a)().mark((function e(){var t,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("comics",{orderBy:"modified",format:"comic"});case 2:return t=e.sent,c=t.data.data.results,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))),p=Object(h.c)({name:"shoppingCart",initialState:{comicsInCart:[],totalComicsInCart:0},reducers:{addComicToCart:function(e,t){var c=t.payload,a=c.id,n=e.comicsInCart.findIndex((function(e){return e.id===a}));-1!==n?e.comicsInCart[n].quantity++:e.comicsInCart.push(Object(o.a)(Object(o.a)({},c),{},{quantity:1})),e.totalComicsInCart++},deleteComicFromCart:function(e,t){var c=t.payload;e.comicsInCart=e.comicsInCart.filter((function(e){return e.id!==c}))},addOneComic:function(e,t){var c=t.payload,a=e.comicsInCart.findIndex((function(e){return e.id===c}));e.comicsInCart[a].quantity++},subtractOneComic:function(e,t){var c=t.payload,a=e.comicsInCart.findIndex((function(e){return e.id===c})),n=e.comicsInCart[a].quantity;e.comicsInCart[a].quantity=1!==n?n-1:1},clearCart:function(e){e.comicsInCart=[]}}}),_=Object(h.c)({name:"lastComics",initialState:{comics:[],loading:!1,error:!1},reducers:{},extraReducers:function(e){e.addCase(x.pending,(function(e){e.loading=!0})),e.addCase(x.fulfilled,(function(e,t){e.loading=!1,e.error=!1;var c=function(e){return e.map((function(e){var t=e.id,c=e.title,a=e.thumbnail,n=e.creators,s=e.prices,r=a.extension,i=a.path;return{id:t,title:c,creatorName:n.available>0?n.items[0].name:"Author not available",coverURL:"".concat(i,".").concat(r),price:Array.isArray(s)&&0===s.length?0:s[0].price}}))}(t.payload);e.comics=c})),e.addCase(x.rejected,(function(e){e.loading=!1,e.error=!0}))}}),f=Object(h.c)({name:"buyerInformation",initialState:{buyerData:{name:"",phone:"",country:"",address:"",additionalInformation:"",city:"",state:"",zipCode:""}},reducers:{addClientInformation:function(e,t){var c=t.payload;e.buyerData=Object(o.a)({},c)}}}),v=Object(h.a)({reducer:{lastComics:_.reducer,shoppingCart:p.reducer,buyer:f.reducer}}),C=(c(73),c(0));function N(e){var t=e.id,c=e.coverURL,a=e.title,n=e.creatorName,s=e.price,i=Object(r.b)(),o=p.actions.addComicToCart;return Object(C.jsxs)("div",{className:"LastComics__Item",children:[Object(C.jsx)("img",{src:c,alt:"",className:"LastComics__Cover"}),Object(C.jsxs)("button",{type:"button",className:"AddToCartButton",onClick:function(){i(o({id:t,coverURL:c,title:a,creatorName:n,price:s}))},children:[Object(C.jsx)("img",{src:"".concat("/marvel-comics-v2","/ShoppingcartInButton.svg"),alt:"",className:"AddToCartButton__CartIcon"}),Object(C.jsx)("span",{children:" ADD TO CART "})]}),Object(C.jsx)("p",{className:"LastComics__Title",children:a}),Object(C.jsx)("p",{className:"LastComics__Author",children:n}),Object(C.jsxs)("p",{className:"LastComics__Price",children:[s,"  "]})]},t)}var y=c(9),I=r.b,g=r.c;c(75);function T(){var e=g((function(e){return e.shoppingCart.comicsInCart})).reduce((function(e,t){return e+t.quantity}),0);return Object(C.jsxs)("div",{className:"Header__Container",children:[Object(C.jsx)(y.b,{to:"/",children:Object(C.jsx)("img",{src:"".concat("/marvel-comics-v2","/MarvelLogo.svg"),alt:"",className:"Header__Logo"})}),Object(C.jsx)("p",{className:"Header__Link",children:" CHARACTERS "}),Object(C.jsx)("p",{className:"Header__Link",children:" CREATORS "}),Object(C.jsx)("p",{className:"Header__Link",children:" EVENTS "}),Object(C.jsxs)("div",{className:"Header__Button Header__Actions",children:[Object(C.jsx)("img",{src:"".concat("/marvel-comics-v2","/SearchIcon.svg"),alt:"",className:"Header__Icon"}),Object(C.jsx)("span",{children:" Search comic "})]}),Object(C.jsx)(y.b,{className:"Header__Button",to:"/checkout",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("img",{src:"".concat("/marvel-comics-v2","/ShoppingCart.svg"),alt:"",className:"Header__Icon"}),Object(C.jsx)("span",{className:"Header__text",children:" Shopping cart "}),Object(C.jsxs)("span",{className:"Header__Counter",children:[e," "]})]})})]})}c(81);var k=function(){return Object(C.jsx)("div",{className:"lds-hourglass"})};function S(e){var t=e.children;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),t]})}function B(e){var t=e.comic,c=t.id,a=t.coverURL,n=t.title,s=t.creatorName,i=t.price,o=t.quantity,l=Object(r.b)(),m=(Math.round(i*o*100)/100).toFixed(2);return Object(C.jsxs)("div",{className:"Item",children:[Object(C.jsx)("img",{src:a,alt:"",className:"Item__Image"}),Object(C.jsxs)("div",{className:"Item__Description",children:[Object(C.jsxs)("p",{className:"Item__Title",children:[n," "]}),Object(C.jsx)("p",{className:"Item__Author",children:s})]}),Object(C.jsxs)("div",{className:"Item__QuantityModification",children:[Object(C.jsx)("button",{className:"Item__QuantityButton",onClick:function(){l(p.actions.subtractOneComic(c))},children:"-"}),Object(C.jsx)("span",{className:"Item__Quantity",children:o}),Object(C.jsx)("button",{className:"Item__QuantityButton",onClick:function(){l(p.actions.addOneComic(c))},children:"+"})]}),Object(C.jsx)("p",{className:"Item__Price",children:m}),Object(C.jsx)("img",{src:"".concat("/marvel-comics-v2","/DeleteIcon.svg"),alt:"",className:"Item__DeleteIcon",onClick:function(){l(p.actions.deleteComicFromCart(c))}})]})}function L(e){var t=e.total,c=e.totalItems,a=(Math.round(100*t)/100).toFixed(2);return Object(C.jsxs)("div",{className:"Summary",children:[Object(C.jsxs)(y.b,{className:"BackToHome",to:"/",children:[Object(C.jsx)("img",{src:"".concat("/marvel-comics-v2","/ArrowBack.svg"),alt:""}),Object(C.jsx)("span",{className:"BackToHome__Text",children:"Back to store"})]}),Object(C.jsxs)("div",{className:"Summary__Container",children:[Object(C.jsxs)("div",{className:"Summary__ContainerTotal",children:[Object(C.jsx)("div",{className:"Summary__Text",children:"Total"}),Object(C.jsx)("div",{className:"Summary__Total",children:a})]}),Object(C.jsxs)("div",{className:"Summary__ItemsCount",children:[c," items"]})]})]})}var A=c(17),D=c(44),E=c.n(D),P=["children","className"],H=function(e){var t=e.children,c=e.className,a=Object(A.a)(e,P),n="".concat(E.a.button," ").concat(c||"").trimEnd();return Object(C.jsx)("button",Object(o.a)(Object(o.a)({className:n},a),{},{children:t}))},R=c(45),w=function(e){return Object(C.jsx)(R.PayPalButton,Object(o.a)({},e))},q=c(25),F=c.n(q),M=["name","className","label","labelClassName"],Q=F.a.Label,U=F.a.Input;function z(e){var t=e.name,c=e.className,a=e.label,n=e.labelClassName,s=Object(A.a)(e,M),r="".concat(Q," ").concat(n||"").trimEnd(),i="".concat(U," ").concat(c||"").trimEnd();return Object(C.jsxs)("label",{htmlFor:t,className:r,children:[Object(C.jsx)("span",{className:F.a.Text,children:a}),Object(C.jsx)("input",Object(o.a)({type:"text",name:t,className:i},s))]})}c(82);function J(){var e=g((function(e){return e.lastComics.comics})),t=g((function(e){return e.lastComics.error})),c=g((function(e){return e.lastComics.loading})),n=I();return Object(a.useEffect)((function(){n(x())}),[]),Object(C.jsxs)("div",{className:"LastComics",children:[!t&&!c&&e.map((function(e){return Object(C.jsx)(N,{id:e.id,coverURL:e.coverURL,title:e.title,creatorName:e.creatorName,price:e.price})})),c&&Object(C.jsx)(k,{})]})}var G=c(3);c(83);function V(){var e=g((function(e){return e.shoppingCart.comicsInCart})),t=e.reduce((function(e,t){return e+t.quantity}),0),c=e.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(C.jsxs)("div",{className:"Checkout",children:[Object(C.jsx)("h1",{className:"Checkout__Title",children:"My cart"}),Object(C.jsxs)("div",{className:"Cart",children:[e.map((function(e){return Object(C.jsx)(B,{comic:e},e.id)})),Object(C.jsx)(L,{total:c,totalItems:t}),Object(C.jsx)("div",{className:"ContinueOrder",children:Object(C.jsx)(y.b,{to:"/payment",children:Object(C.jsx)(H,{className:"ContinueOrder__Button",children:"CONTINUE ORDER"})})})]})]})}var Z=c(46),X=c.n(Z),Y=["children","className"];function K(e){var t=e.children,c=e.className,a=Object(A.a)(e,Y),n="".concat(X.a.Section," ").concat(c||"").trimEnd();return Object(C.jsx)("div",Object(o.a)(Object(o.a)({className:n},a),{},{children:t}))}c(84);function W(){var e=Object(a.useRef)(null),t=Object(r.b)();return Object(C.jsxs)("div",{className:"Payment",children:[Object(C.jsx)("h1",{className:"Payment__Title",children:"Payment"}),Object(C.jsxs)("div",{className:"Payment__Section",children:[Object(C.jsx)("h2",{className:"Payment__SubTitle",children:"Delivery Details"}),Object(C.jsxs)("form",{action:"#",ref:e,children:[Object(C.jsx)("h3",{className:"Form__Title",children:"Contact information"}),Object(C.jsxs)(K,{children:[Object(C.jsx)(z,{name:"name",label:"Name and last name"}),Object(C.jsx)(z,{name:"phone",label:"Phone Number",pattern:"[0-9]*"})]}),Object(C.jsx)("h3",{className:"Form__Title",children:"Delivery information"}),Object(C.jsxs)(K,{children:[Object(C.jsx)(z,{name:"country",label:"Country"}),Object(C.jsx)(z,{name:"address",label:"Address"}),Object(C.jsx)(z,{name:"additionalInformation",label:"Additional Information"}),Object(C.jsx)(z,{name:"city",label:"City"}),Object(C.jsx)(z,{name:"state",label:"State"}),Object(C.jsx)(z,{name:"zipCode",label:"Zip Code",pattern:"[0-9]*"})]})]})]}),Object(C.jsxs)("div",{className:"NavigationButtons",children:[Object(C.jsxs)(y.b,{className:"BackToHome",to:"/checkout",children:[Object(C.jsx)("img",{src:"".concat("/marvel-comics-v2","/ArrowBack.svg"),alt:""}),Object(C.jsx)("span",{className:"BackToHome__Text",children:"Back to shopping cart"})]}),Object(C.jsx)(y.b,{to:"/summary",children:Object(C.jsx)(H,{className:"ContinueOrder__Button",onClick:function(){if(e.current){var c=new FormData(e.current),a={name:c.get("name"),phone:c.get("phone"),country:c.get("country"),address:c.get("address"),additionalInformation:c.get("additionalInformation"),city:c.get("city"),state:c.get("state"),zipCode:c.get("zipCode")};t(f.actions.addClientInformation(a))}},children:"GO TO PAY"})})]})]})}c(85);function $(){var e=g((function(e){return e.shoppingCart.comicsInCart})),t=e.reduce((function(e,t){return e+t.price*t.quantity}),0),c=e.reduce((function(e,t){return e+t.quantity}),0),a=Object(r.b)(),n=Object(G.f)();return Object(C.jsxs)("div",{className:"Content",children:[Object(C.jsx)(L,{total:t,totalItems:c}),Object(C.jsx)("div",{className:"PaypalContainer",children:Object(C.jsx)(w,{options:{clientId:"AdVD_NyJTMuT8XuVn4J02zGQNrB_xFZx89EKPQ9zOGydv8EaB3TD2juk5hOHn1AMQZn1BvRpw3QDmtTg",intent:"capture",currency:"USD"},style:{layout:"vertical",label:"pay",shape:"pill",size:"responsive"},amount:t,onSuccess:function(e){"COMPLETED"===e.status&&(a(p.actions.clearCart()),n.push("/payment/success"))},onError:function(e){return console.log(e)},onCancel:function(e){return console.log(e)}})})]})}c(86);function ee(){return Object(C.jsxs)("div",{className:"Payment",children:[Object(C.jsx)("img",{className:"Payment__CheckIcon",src:"".concat("/marvel-comics-v2","/CheckIcon.svg"),alt:""}),Object(C.jsx)("p",{className:"Payment__Callout",children:"PAYMENT DONE"}),Object(C.jsx)("p",{className:"Payment__Text",children:"Come back soon"})]})}var te=function(){return Object(C.jsx)(r.a,{store:v,children:Object(C.jsx)(y.a,{basename:"/",children:Object(C.jsx)(S,{children:Object(C.jsxs)(G.c,{children:[Object(C.jsx)(G.a,{exact:!0,path:"/",component:J}),Object(C.jsx)(G.a,{exact:!0,path:"/checkout",component:V}),Object(C.jsx)(G.a,{exact:!0,path:"/payment",component:W}),Object(C.jsx)(G.a,{exact:!0,path:"/summary",component:$}),Object(C.jsx)(G.a,{exact:!0,path:"/payment/success",component:ee})]})})})})};c(87);s.a.render(Object(C.jsx)(te,{}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.0e26f040.chunk.js.map